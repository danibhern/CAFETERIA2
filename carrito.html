<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Tu Carrito</title>
    <link rel="stylesheet" href="css/estilo_carrito.css">
</head>
<body>
    <nav>
    <div class="barra-nav">
        <div class="logo"></div>
        <img src="images/nebula.png" alt="nebula">
        <div class="nav-links">
            <a href="#">Home</a>
            <a href="#">Quienes Somos</a>
            <a href="menu-nebula.pdf" target="_blank" rel="noopener noreferrer">Men√∫</a>
            <a href="pedido.html">Pedidos</a>
        </div>
        </div>
        <a href="inicio_sesion.html"><button class="boton-login">Iniciar sesi√≥n</button></a>
    </nav>
    <div class="total">
        <h1>Resumen de tu Pedido</h1>
        <ul id="lista-carrito"></ul>
        <p>Total: $<span id="total">0</span></p>
        <button id="checkout">Pagar</button>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
    let carrito = JSON.parse(localStorage.getItem("carrito")) || [];
    const listaCarrito = document.getElementById("lista-carrito");
    const totalSpan = document.getElementById("total");
    const checkoutBtn = document.getElementById("checkout");

    function renderCarrito() {
        listaCarrito.innerHTML = "";

        if (carrito.length === 0) {
            listaCarrito.innerHTML = "<li>No hay productos a√∫n.</li>";
            totalSpan.textContent = "0";
            return;
        }

        let total = 0;
        carrito.forEach((item, index) => {
            total += item.precio;

            const li = document.createElement("li");
            li.classList.add("item-carrito");

            // Imagen del producto
            const img = document.createElement("img");
            img.src = item.imagen || item.img; // usa la propiedad correcta
            img.alt = item.nombre;
            img.classList.add("img-carrito");

            // Texto del producto
            const texto = document.createElement("span");
            texto.textContent = `${item.nombre} - $${item.precio.toLocaleString()}`;

            // Bot√≥n eliminar
            const btnEliminar = document.createElement("button");
            btnEliminar.textContent = "‚ùå";
            btnEliminar.classList.add("btn-eliminar");
            btnEliminar.addEventListener("click", () => {
                carrito.splice(index, 1);
                localStorage.setItem("carrito", JSON.stringify(carrito));
                renderCarrito();
            });

            li.appendChild(img);
            li.appendChild(texto);
            li.appendChild(btnEliminar);

            listaCarrito.appendChild(li);
        });

        totalSpan.textContent = total.toLocaleString();
    }

    checkoutBtn.addEventListener("click", () => {
        if (carrito.length === 0) {
            alert("Tu carrito est√° vac√≠o.");
        } else {
            alert("¬°Gracias por tu compra! üõí");
            carrito = [];
            localStorage.setItem("carrito", JSON.stringify(carrito));
            renderCarrito();
        }
    });

    renderCarrito();
});

    </script>
    <footer>
        <div class="footer-section">
            <h3>Redes Sociales</h3>
            <ul>
                <li><a href="#">Facebook</a></li>
                <li><a href="#">Instagram</a></li>
                <li><a href="#">Twitter</a></li>
            </ul>
        </div>
        <div class="footer-section">
            <h3>Sucursales</h3>
            <ul>
                <li>Calle Principal 123, Melipilla</li>
                <li>Avenida Central 456, Villarica</li>
                <li>Bulevar 789, Copiap√≥</li>
            </ul>
        </div>
        <div class="footer-section">
            <h3>Pol√≠ticas</h3>
            <ul>
                <li><a href="#">Pol√≠ticas de Env√≠o</a></li>
                <li><a href="#">T√©rminos y Condiciones</a></li>
            </ul>
        </div>
    </footer>
</body>
</html>
